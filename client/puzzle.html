<head>
  <title>MeteorJs meets Wall-E</title>
</head>

<body>
  <header>
    <h1>MeteorJs meets Wall-E</h1>  
  </header>
  <div class="resizer">
    {{#if Template.subscriptionsReady}}
      {{> puzzleTemplate puzzle}}   
    {{else}}
      <div>
	<p>Loading...</p>
      </div>
    {{/if}}
  </div>
  <footer>
    <p>Developed by Michel Hidalgo</p>
  </footer>
</body>	

<template name="puzzleTemplate">  
  <div class="puzzle" style="height: {{height}}px; width:{{width}}px;">        
    {{> arrangeTemplate arrangement}}      
    {{#each pieces}}	        
      {{> pieceTemplate}}
    {{/each}}  
  </div>    
</template>

<template name="arrangeTemplate">
  <div class="arrangement" style="top: {{top}}px; left: {{left}}px; height: {{height}}px; width:{{width}}px;">
    <img src="{{imageUrl}}" width="{{width}}px" height="{{height}}px"/>
  </div>
</template>

<template name="pieceTemplate">  
  <div id={{_id}} class="piece" style="top: {{top}}px; left: {{left}}px; height: {{height}}px; width: {{width}}px;">
    <img src="{{imageUrl}}" width="{{width}}px" height="{{height}}px"/>
  </div>
</template>
