<head>
  <title>MeteorJs meets Wall-E</title>
</head>

<body>
  <header>
    <img src="title.png" alt="Meteor meets Wall-E" height="60px" width="600px"/>
  </header>
  <div class="container">
    {{#if Template.subscriptionsReady}}
      {{> puzzleTemplate puzzle}}   
    {{/if}}
  </div>
  <footer>
    <p>
      Developed by <br/>
      <a href="mailto:hidmichel@gmail.com">
	Michel Hidalgo
      </a>
    </p>
  </footer>
</body>	

<template name="puzzleTemplate">  
  <div class="puzzle" style="top: {{top}}px; left: {{left}}px; height: {{height}}px; width:{{width}}px;">        
    {{> arrangeTemplate arrangement}}      
    {{#each pieces}}	        
      {{> pieceTemplate}}
    {{/each}}  
  </div>    
</template>

<template name="arrangeTemplate">
  <div class="arrangement" style="top: {{top}}px; left: {{left}}px; height: {{height}}px; width:{{width}}px;">
    <img src="{{imageUrl}}" width="{{width}}px" height="{{height}}px"/>
  </div>
</template>

<template name="pieceTemplate">  
  <div id={{_id}} class="piece" style="top: {{top}}px; left: {{left}}px; height: {{height}}px; width: {{width}}px;">
    <img src="{{imageUrl}}" width="{{width}}px" height="{{height}}px"/>
  </div>
</template>
