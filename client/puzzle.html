<head>
  <title>MeteorJs meets Wall-E</title>
</head>

<body>
  <h1>MeteorJs meets Wall-E</h1>
  {{>puzzle}}  
</body>	

<template name="puzzle">
  <div class="puzzle">    
    {{#each pieces}}	        
      {{> piece}}
    {{/each}}        
  </div>
</template>

<template name="piece">  
  <div id="{{_id}}" class="piece, {{orphan}}" style="top: {{top}}; left: {{left}}; height: {{height}}; width: {{width}}">        
    {{#if orphan}}
      {{#each links}}
        {{> link}}
      {{/each}}        
    {{/if}}    
    {{#unless primitive}}
      {{#each childs}}
        {{> piece}}
      {{/each}}
    {{else}}
      <img src="{{image}}"/>
    {{/if}}
  </div>
</template>

<template name="link">
  <div id="{{matchId}}" class="link" style="top: {{top}}; left: {{left}}; height: {{height}}; width: {{width}}"></div>
</template>
